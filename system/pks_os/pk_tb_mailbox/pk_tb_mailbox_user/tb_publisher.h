/*=====================================================================================*/
/**
 * tb_publisher.h
 * author : puch
 * date : Oct 22 2015
 *
 * description : Any comments
 *
 */
/*=====================================================================================*/
#ifndef TB_PUBLISHER_H_
#define TB_PUBLISHER_H_
/*=====================================================================================*
 * Project Includes
 *=====================================================================================*/
#include "object.h"
#include "tb_mailbox.h"
/*=====================================================================================* 
 * Standard Includes
 *=====================================================================================*/

/*=====================================================================================* 
 * Exported Define Macros
 *=====================================================================================*/
#ifdef __cplusplus
extern "C" {
#endif

#define TB_PUBLISHER_CTOR(PARAM) PARAM(uint32_t const, mail_elems),PARAM(size_t const, data_size)
/*=====================================================================================* 
 * Exported Type Declarations
 *=====================================================================================*/
Declare_Class(
      TB_Publisher,
      TB_PUBLISHER_CTOR,
      Ring_Buffer mailboxes;
      ,
      );
/*=====================================================================================* 
 * Exported Object Declarations
 *=====================================================================================*/

/*=====================================================================================* 
 * Exported Function Prototypes
 *=====================================================================================*/
extern TB_Publisher TB_Publisher_get_instance(void);
extern bool_t TB_Publisher_subscribe(TB_Publisher obj, TB_Mailbox mailbox);
extern bool_t TB_Publisher_unsubscribe(TB_Publisher obj, TB_Mailbox mailbox);
extern void TB_Publisher_publish_mail(TB_Publisher obj, TB_Mail mail);
/*=====================================================================================* 
 * Exported Function Like Macros
 *=====================================================================================*/
#ifdef __cplusplus
}
#endif
/*=====================================================================================* 
 * tb_publisher.h
 *=====================================================================================*
 * Log History
 *
 *=====================================================================================*/
#endif /*TB_PUBLISHER_H_*/
